<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Power Grid Builder</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <h1><i class="fas fa-bolt"></i> Power Grid Builder</h1>
            <div class="header-stats">
                <div class="stat-item">
                    <i class="fas fa-dollar-sign"></i>
                    <span>Budget: $<span id="budget">500000</span></span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-plug"></i>
                    <span>Generation: <span id="generation">0</span> MW</span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-home"></i>
                    <span>Load: <span id="load">0</span> MW</span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Efficiency: <span id="efficiency">0</span>%</span>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Toolbar -->
            <div class="toolbar">
                <div class="tool-section">
                    <h3>Components</h3>
                    <button class="tool-btn" data-tool="generator" title="Generator (50-150 MW) - $10,000">
                        <i class="fas fa-industry"></i>
                        <div class="tool-info">
                            <span class="tool-name">Generator</span>
                            <span class="tool-price">$10,000</span>
                        </div>
                    </button>
                    <button class="tool-btn" data-tool="substation" title="Substation (200 MW) - $5,000">
                        <i class="fas fa-building"></i>
                        <div class="tool-info">
                            <span class="tool-name">Substation</span>
                            <span class="tool-price">$5,000</span>
                        </div>
                    </button>
                    <button class="tool-btn" data-tool="load" title="Load Center (20-100 MW) - Free">
                        <i class="fas fa-home"></i>
                        <div class="tool-info">
                            <span class="tool-name">Load</span>
                            <span class="tool-price">Free</span>
                        </div>
                    </button>
                    <button class="tool-btn" data-tool="node" title="Grid Node - Free">
                        <i class="fas fa-circle"></i>
                        <div class="tool-info">
                            <span class="tool-name">Node</span>
                            <span class="tool-price">Free</span>
                        </div>
                    </button>
                </div>

                <div class="tool-section">
                    <h3>Lines</h3>
                    <button class="tool-btn" data-tool="transmission-line" title="Transmission Line (300 MW) - $1,000">
                        <i class="fas fa-grip-lines"></i>
                        <div class="tool-info">
                            <span class="tool-name">Transmission</span>
                            <span class="tool-price">$1,000</span>
                        </div>
                    </button>
                    <button class="tool-btn" data-tool="distribution-line" title="Distribution Line (100 MW) - $500">
                        <i class="fas fa-minus"></i>
                        <div class="tool-info">
                            <span class="tool-name">Distribution</span>
                            <span class="tool-price">$500</span>
                        </div>
                    </button>
                    <button class="tool-btn" data-tool="hvdc-line" title="HVDC Line (500 MW) - $2,000">
                        <i class="fas fa-equals"></i>
                        <div class="tool-info">
                            <span class="tool-name">HVDC</span>
                            <span class="tool-price">$2,000</span>
                        </div>
                    </button>
                </div>

                <div class="tool-section">
                    <h3>Actions</h3>
                    <button class="action-btn" id="simulate-btn">
                        <i class="fas fa-play"></i>
                        <span>Simulate</span>
                    </button>
                    <button class="action-btn" id="undo-btn">
                        <i class="fas fa-undo"></i>
                        <span>Undo</span>
                    </button>
                    <button class="action-btn" id="redo-btn">
                        <i class="fas fa-redo"></i>
                        <span>Redo</span>
                    </button>
                    <button class="action-btn" id="reset-btn">
                        <i class="fas fa-refresh"></i>
                        <span>Reset</span>
                    </button>
                </div>

                <div class="tool-section">
                    <h3>View</h3>
                    <button class="view-btn" id="zoom-in-btn">
                        <i class="fas fa-search-plus"></i>
                    </button>
                    <button class="view-btn" id="zoom-out-btn">
                        <i class="fas fa-search-minus"></i>
                    </button>
                    <button class="view-btn" id="center-btn">
                        <i class="fas fa-crosshairs"></i>
                    </button>
                </div>
            </div>

            <!-- Canvas Container -->
            <div class="canvas-container">
                <canvas id="grid-canvas" width="1000" height="600"></canvas>
                <div class="canvas-overlay">
                    <div class="coordinates" id="coordinates">x: 0, y: 0</div>
                </div>
            </div>
        </div>

        <!-- Results Panel -->
        <div class="results-panel" id="results-panel">
            <div class="panel-header">
                <h3>Simulation Results</h3>
                <button class="close-btn" id="close-results">&times;</button>
            </div>
            <div class="panel-content" id="results-content">
                <!-- Results will be populated here -->
            </div>
        </div>

        <!-- Component Configuration Modal -->
        <div class="modal" id="config-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modal-title">Configure Component</h3>
                    <button class="close-btn" id="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="config-option">
                        <label for="capacity-input">Capacity (MW):</label>
                        <input type="number" id="capacity-input" min="1" max="500" value="100">
                        <span class="capacity-range" id="capacity-range"></span>
                    </div>
                    <div class="config-option">
                        <label for="voltage-select">Voltage Level (kV):</label>
                        <select id="voltage-select">
                            <option value="10">10 kV</option>
                            <option value="20">20 kV</option>
                            <option value="50">50 kV</option>
                            <option value="110">110 kV</option>
                            <option value="220">220 kV</option>
                            <option value="400">400 kV</option>
                        </select>
                    </div>
                    <div class="config-buttons">
                        <button class="btn btn-primary" id="confirm-config">Place Component</button>
                        <button class="btn btn-secondary" id="cancel-config">Cancel</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Status Messages -->
        <div class="status-messages" id="status-messages"></div>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
